<apam xmlns="fr.imag.adele.apam" xmlns:ipojo="org.apache.felix.ipojo" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="fr.imag.adele.apam http://raw.github.com/AdeleResearchGroup/ApAM/master/runtime/core/src/main/resources/xsd/ApamCore.xsd">

<implementation 
	name="MediaPlayer"
	classname="appsgate.lig.upnp.media.player.adapter.MediaPlayerAdapter"
	instantiable="false"
    specification="CoreMediaPlayerSpec">

	<callback onInit="initialize" />

	<relation implementation= "MediaRendererProxyImpl" field="mediaRenderer" resolve="exist" fail="wait">
       <constraints>
          <instance filter="(UPnP.device.UDN=$.$UPnP\.device\.UDN)" />
      </constraints>
	</relation>

	<definition name="UPnP.device.UDN" type="string"/>
    
</implementation>

<implementation 
	name="MediaPlayerFactory"
	classname="appsgate.lig.upnp.media.player.adapter.MediaPlayerFactory">

	<relation implementation= "MediaRendererProxyImpl" multiple="true" resolve="exist" added="mediaRendererBound" removed="mediaRendererUnbound"  />
	
</implementation>

<apam-instance name="Global-MediaPlayerFactory" implementation="MediaPlayerFactory">
</apam-instance>

</apam>
